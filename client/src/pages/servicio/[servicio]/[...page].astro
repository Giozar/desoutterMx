---
import type { Page } from "astro";
import type { CollectionEntry } from "astro:content";
import { getEntry, getCollection } from "astro:content";
import Base from "../../../layouts/Base.astro";
import HeaderContent from "../../../components/HeaderContent.astro";
import Accordion from '../../../components/Accordion.astro'
export const prerender = true;

export interface Props {
  page: Page<CollectionEntry<"meetUs">>;
}

const { service } = Astro.params;

const detail = await getEntry("service", service!);

const frontmatter = {
  title: detail!.data.title.toLocaleUpperCase(),
  description: detail!.data.description,
  image: detail!.data.image,
  qya: detail!.data.qya,
};

export async function getStaticPaths() {
  const services = await getCollection("service");
  return services.flatMap((service) => {
    return [{ params: { service: service.slug } }];
  });
}
---

<Base frontmatter={frontmatter}>
  <header class="mx-28 pt-10">
    <div class="text-lg ml-28 text-slate-500 ">
      <a class="border-b-2 text-red-500 border-red-500 hover:text-gray-600 hover:border-gray-600" 
      href={import.meta.env.BASE_URL+"services"}>Regresar a servicios</a>/<span class="text-base">{frontmatter.title}</span>
    </div>
    <HeaderContent
      title={frontmatter.title}
      description={frontmatter.description}
      image={frontmatter.image}
    />
  </header>
  <section class="mt-10 dark:bg-gray-900 mx-32 mb-10">
    <Accordion qya={frontmatter.qya} />
  </section>
</Base>
