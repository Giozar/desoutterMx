---
import HeaderTools from "./HeaderTools.astro";
import SubCategoryCard from "./SubCategoryCard.astro"

const { categoryId, categoryName } = Astro.params;
const { SubCategoriesAll} = Astro.props;
// console.log(categoryId, categoryName);
const CategoryId = Number(categoryId);

const subcategories = SubCategoriesAll
  .map(subcategories => subcategories.filter(subcategory => subcategory.categoryId === CategoryId))
  .flat();

// console.log(subcategories);

export const prerender = true;
---
<article>
  <HeaderTools tools={subcategories} />
  <div class='content-center grid grid-cols-1 xl:grid-cols-4 justify-items-center gap-4'>
    {subcategories.map((subcategory) => <SubCategoryCard key={subcategory.id} subcategory={subcategory} />)}
  </div>
</article>