---
import SubSubCategoryCard from "./SubSubCategoryCard.astro";

const { categoryId, subcategoryId } = Astro.params;
const {SubSubCategoriesAll} = Astro.props;

const CategoryId = Number(categoryId);
const SubCategoryId = Number(subcategoryId);

// console.log(CategoryId);
// console.log(SubCategoryId);


const subsubcategories = SubSubCategoriesAll
  .map(subsubcategories => subsubcategories.filter(subsubcategory => {
      if(subsubcategory.categoryId === CategoryId && subsubcategory.subcategoryId === SubCategoryId ){
        return subsubcategory
      }
  })).flat()

// console.log(subsubcategories);

export const prerender = true;
---
<article>
  <header class='p-10'>
    <h2 class="text-2xl font-bold">Herramientas ({subsubcategories.length})</h2>
  </header>

  <div class='content-centerw-full grid grid-cols-1 xl:grid-cols-4 justify-items-center gap-4'>
    {subsubcategories.map((subsubcategory) => <SubSubCategoryCard key={subsubcategory.id} subsubcategory={subsubcategory} />)}
  </div>
</article>