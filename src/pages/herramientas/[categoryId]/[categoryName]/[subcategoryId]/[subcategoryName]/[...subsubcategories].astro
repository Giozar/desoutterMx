---
import Base from "../../../../../../layouts/Base.astro";
import SubSubCategoriesList from "../../../../../../components/SubSubCategoriesList.astro";
const backendPort = import.meta.env.BACKENDPORT;
const {categoryId, categoryName, subcategoryId,subcategoryName} = Astro.params;

// console.log(subcategoryId, subcategoryName);

const frontmatter = {
  title: subcategoryName,
  description: "Descripción de la Página",
  keywords: ["Palabra Clave 1", "Palabra Clave 2", "Palabra Clave 3"],
  name: "Nombre del Autor",
  language: "es",
  url: "URL_canónica_de_la_Página",
  facebookTitle: "Título para Compartir en Facebook",
  facebookDescription: "Descripción para Compartir en Facebook",
  facebookImage: "URL_de_la_Imagen_para_Facebook",
  facebookURL: "URL_canónica_de_la_Página_para_Facebook",
  twitterTitle: "Título para Compartir en Twitter",
  twitterDescription: "Descripción para Compartir en Twitter",
  twitterImage: "URL_de_la_Imagen_para_Twitter"
}

// Función para realizar la petición fetch por subsubcategoría
async function getSubsubcategories(categoryId, categoryName, subcategoryId, subcategoryName) {
  const response = 
  await fetch(`${backendPort}/herramientas/${categoryId}/${categoryName}/${subcategoryId}/${subcategoryName}`);
  return response.json();
}

// Realiza la petición fetch y almacena los datos en el objeto
const data = await getSubsubcategories(categoryId, categoryName, subcategoryId, subcategoryName);

---
<Base frontmatter={frontmatter}>
    <SubSubCategoriesList data={data} />
</Base>